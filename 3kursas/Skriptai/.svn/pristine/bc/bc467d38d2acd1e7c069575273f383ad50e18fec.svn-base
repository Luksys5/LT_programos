#!/bin/sh
#------------------------------------------------------------------------------
#$Author$
#$Date$
#$Revision$
#$URL$
#------------------------------------------------------------------------------
#*
# Test for the 'prepare' script.
# This a very simple test for the basic functionality.
#**

set -ue

#BEGIN DEPEND------------------------------------------------------------------

INPUT_SCRIPT=prepare

#END DEPEND--------------------------------------------------------------------

unset LANG
unset LC_CTYPE

WD=`pwd`

prepare=${WD}/${INPUT_SCRIPT}

DIR=$(dirname $0)

TSTDIR=${DIR}/outputs

TEMPLATES="first second third"

cd ${TSTDIR}

basename `pwd`

rm -rf ${TEMPLATES}

${prepare} \
    --template-dir ../templates \
    ${TEMPLATES} \
    --no-svn

for TEMPLATE in ${TEMPLATES}
do

  echo ""
  ls -1a ${TEMPLATE}

  TEST_FILE=${TEMPLATE}/file.txt

  echo ""
  echo === ${TEST_FILE} ===
  cat ${TEST_FILE}

done
